<app-input-overlay
  (resolveAndUpdate)="resolveAndUpdateFromAddress()"
  (excludeDiscountChange)="onExcludeDiscountChange()"
  (useCurrentLocation)="useCurrentLocation()"
  (goToAirport)="goToAirport()"
  (coneVisibilityChange)="toggleConeVisibility($event)"
  (setHome)="setCurrentAsHome()"
  (goToHome)="goToHome()"
></app-input-overlay>

<!-- Pass the set of active ICAOs to the results overlay -->
<app-results-overlay
  [skyPlaneLog]="resultsOverlayComponent.skyPlaneLog"
  [airportPlaneLog]="resultsOverlayComponent.airportPlaneLog"
  [seenPlaneLog]="resultsOverlayComponent.seenPlaneLog"
  [loadingAirports]="loadingAirports"
  [highlightedPlaneIcao]="highlightedPlaneIcao"
  [activePlaneIcaos]="activePlaneIcaos"
  (filterPrefix)="resultsOverlayComponent.filterPrefix.emit($event)"
  (exportFilterList)="resultsOverlayComponent.exportFilterList.emit()"
  (clearHistoricalList)="resultsOverlayComponent.clearHistoricalList.emit()"
  (centerPlane)="centerOnPlane($event)"
  (hoverPlane)="onHoverOverlayPlane($event)"
  (unhoverPlane)="onUnhoverOverlayPlane($event)"
></app-results-overlay>

<app-temperature
  [resultsCollapsed]="resultsOverlayComponent.collapsed"
></app-temperature>
<app-clock></app-clock>

<div id="map"></div>

<app-cone
  *ngIf="map && coneVisible && homeLocationValue"
  [map]="map"
  [lat]="homeLocationValue!.lat"
  [lon]="homeLocationValue!.lon"
  [distanceKm]="radiusKm"
></app-cone>
